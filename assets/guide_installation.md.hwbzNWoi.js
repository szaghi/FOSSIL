import{_ as s,o as a,c as i,a2 as e}from"./chunks/framework.BS-IksUQ.js";const k=JSON.parse('{"title":"Installation","description":"","frontmatter":{"title":"Installation"},"headers":[],"relativePath":"guide/installation.md","filePath":"guide/installation.md"}'),l={name:"guide/installation.md"};function n(r,t,d,h,o,p){return a(),i("div",null,[...t[0]||(t[0]=[e(`<h1 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">​</a></h1><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><p>A Fortran 2003+ compliant compiler is required. The following compilers are known to work:</p><table tabindex="0"><thead><tr><th>Compiler</th><th>Minimum version</th></tr></thead><tbody><tr><td>GNU gfortran</td><td>≥ 5.3.0</td></tr><tr><td>Intel Fortran (ifort / ifx)</td><td>≥ 16.x</td></tr></tbody></table><p>FOSSIL is developed on GNU/Linux. Windows should work but is not officially tested.</p><h2 id="download" tabindex="-1">Download <a class="header-anchor" href="#download" aria-label="Permalink to &quot;Download&quot;">​</a></h2><p>FOSSIL uses <strong>git submodules</strong> for its third-party dependencies. Clone recursively:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/szaghi/FOSSIL</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --recursive</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FOSSIL</span></span></code></pre></div><p>If you already have a non-recursive clone:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> submodule</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --init</span></span></code></pre></div><h3 id="third-party-dependencies" tabindex="-1">Third-Party Dependencies <a class="header-anchor" href="#third-party-dependencies" aria-label="Permalink to &quot;Third-Party Dependencies&quot;">​</a></h3><p>The submodules live under <code>src/third_party/</code>:</p><table tabindex="0"><thead><tr><th>Library</th><th>Purpose</th></tr></thead><tbody><tr><td><a href="https://github.com/szaghi/PENF" target="_blank" rel="noreferrer">PENF</a></td><td>Portable numeric kind parameters (<code>I4P</code>, <code>R8P</code>, etc.)</td></tr><tr><td><a href="https://github.com/szaghi/VecFor" target="_blank" rel="noreferrer">VecFor</a></td><td>3D vector type and operations (<code>vector_R8P</code>, unit vectors, rotation/mirror matrices)</td></tr><tr><td><a href="https://github.com/szaghi/FLAP" target="_blank" rel="noreferrer">FLAP</a></td><td>Fortran command-line argument parser (used by <code>fossilizer</code>)</td></tr><tr><td><a href="https://github.com/szaghi/FACE" target="_blank" rel="noreferrer">FACE</a></td><td>ANSI terminal color/style support</td></tr><tr><td><a href="https://github.com/szaghi/BeFoR64" target="_blank" rel="noreferrer">BeFoR64</a></td><td>Base64 encoding</td></tr><tr><td><a href="https://github.com/szaghi/FoXy" target="_blank" rel="noreferrer">FoXy</a></td><td>XML/XDMF support</td></tr><tr><td><a href="https://github.com/szaghi/StringiFor" target="_blank" rel="noreferrer">StringiFor</a></td><td>String utilities</td></tr><tr><td><a href="https://github.com/szaghi/VTKFortran" target="_blank" rel="noreferrer">VTKFortran</a></td><td>VTK file I/O</td></tr></tbody></table><h2 id="build-with-fobis-py" tabindex="-1">Build with FoBiS.py <a class="header-anchor" href="#build-with-fobis-py" aria-label="Permalink to &quot;Build with FoBiS.py&quot;">​</a></h2><p><a href="https://github.com/szaghi/FoBiS" target="_blank" rel="noreferrer">FoBiS.py</a> is the primary build system. Install it once with pip:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FoBiS.py</span></span></code></pre></div><h3 id="list-all-build-modes" tabindex="-1">List all build modes <a class="header-anchor" href="#list-all-build-modes" aria-label="Permalink to &quot;List all build modes&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -lmodes</span></span></code></pre></div><p>Available modes:</p><table tabindex="0"><thead><tr><th>Mode</th><th>Description</th></tr></thead><tbody><tr><td><code>static-gnu</code></td><td>Static library with gfortran (release)</td></tr><tr><td><code>shared-gnu</code></td><td>Shared library with gfortran (release)</td></tr><tr><td><code>static-gnu-debug</code></td><td>Static library with gfortran (debug + checks)</td></tr><tr><td><code>shared-gnu-debug</code></td><td>Shared library with gfortran (debug)</td></tr><tr><td><code>tests-gnu</code></td><td>Build all tests with gfortran (release)</td></tr><tr><td><code>tests-gnu-debug</code></td><td>Build all tests with gfortran (debug)</td></tr><tr><td><code>static-intel</code></td><td>Static library with ifort (release)</td></tr><tr><td><code>shared-intel</code></td><td>Shared library with ifort (release)</td></tr><tr><td><code>tests-intel</code></td><td>Build all tests with ifort (release)</td></tr><tr><td><code>tests-intel-debug</code></td><td>Build all tests with ifort (debug)</td></tr></tbody></table><h3 id="build-the-library" tabindex="-1">Build the library <a class="header-anchor" href="#build-the-library" aria-label="Permalink to &quot;Build the library&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Static library (GNU gfortran)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> static-gnu</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Shared library (GNU gfortran)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shared-gnu</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Static library (Intel Fortran)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> static-intel</span></span></code></pre></div><p>The library is placed in <code>./static/</code> or <code>./shared/</code> respectively. Module files go to <code>./mod/</code>.</p><h3 id="build-and-run-tests" tabindex="-1">Build and run tests <a class="header-anchor" href="#build-and-run-tests" aria-label="Permalink to &quot;Build and run tests&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tests-gnu</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./scripts/run_tests.sh</span></span></code></pre></div><p>Compiled test executables are placed in <code>./exe/</code>. Each test prints <code>&quot;Are all tests passed? T&quot;</code> on success.</p><p>To run a single test:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./exe/fossil_test_clip</span></span></code></pre></div><h3 id="coverage-and-documentation" tabindex="-1">Coverage and documentation <a class="header-anchor" href="#coverage-and-documentation" aria-label="Permalink to &quot;Coverage and documentation&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rule</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ex</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> makecoverage</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # build + run tests + gcov report</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rule</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ex</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> makedoc</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # build ford API docs + VitePress site</span></span></code></pre></div><h2 id="alternative-builds" tabindex="-1">Alternative builds <a class="header-anchor" href="#alternative-builds" aria-label="Permalink to &quot;Alternative builds&quot;">​</a></h2><p>The <code>scripts/install.sh</code> helper also supports <code>make</code> and <code>cmake</code> backends:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./scripts/install.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> make</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./scripts/install.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cmake</span></span></code></pre></div>`,33)])])}const g=s(l,[["render",n]]);export{k as __pageData,g as default};
