import{_ as i,o as a,c as t,a2 as e}from"./chunks/framework.BS-IksUQ.js";const c=JSON.parse('{"title":"API Reference","description":"","frontmatter":{"title":"API Reference"},"headers":[],"relativePath":"guide/api-reference.md","filePath":"guide/api-reference.md"}'),n={name:"guide/api-reference.md"};function d(l,s,h,r,p,o){return a(),t("div",null,[...s[0]||(s[0]=[e(`<h1 id="api-reference" tabindex="-1">API Reference <a class="header-anchor" href="#api-reference" aria-label="Permalink to &quot;API Reference&quot;">​</a></h1><p>FOSSIL exposes a single module:</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">use</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fossil</span></span></code></pre></div><p>The module re-exports three public types from internal modules. All geometry operations use <a href="https://github.com/szaghi/PENF" target="_blank" rel="noreferrer">PENF</a> numeric kinds (<code>I4P</code>, <code>R8P</code>) and <a href="https://github.com/szaghi/VecFor" target="_blank" rel="noreferrer">VecFor</a> vector types (<code>vector_R8P</code>).</p><hr><h2 id="file-stl-object" tabindex="-1"><code>file_stl_object</code> <a class="header-anchor" href="#file-stl-object" aria-label="Permalink to &quot;\`file_stl_object\`&quot;">​</a></h2><p>Handles STL file I/O. A single instance can be reused to load or save multiple surfaces sequentially.</p><h3 id="public-members" tabindex="-1">Public members <a class="header-anchor" href="#public-members" aria-label="Permalink to &quot;Public members&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Member</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>file_name</code></td><td><code>character(len=:), allocatable</code></td><td>Path of the STL file</td></tr><tr><td><code>is_ascii</code></td><td><code>logical</code></td><td><code>.true.</code> for ASCII format, <code>.false.</code> for binary</td></tr><tr><td><code>header</code></td><td><code>character(FRLEN)</code></td><td>STL file header string</td></tr></tbody></table><h3 id="public-methods" tabindex="-1">Public methods <a class="header-anchor" href="#public-methods" aria-label="Permalink to &quot;Public methods&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><a href="#initialize"><code>initialize</code></a></td><td>Initialize the file handler</td></tr><tr><td><a href="#load_from_file"><code>load_from_file</code></a></td><td>Load facets from an STL file into a surface</td></tr><tr><td><a href="#save_into_file"><code>save_into_file</code></a></td><td>Save facets to an STL file</td></tr><tr><td><a href="#save_aabb_into_file"><code>save_aabb_into_file</code></a></td><td>Save the AABB tree as an STL file</td></tr><tr><td><a href="#open_file"><code>open_file</code></a></td><td>Open the file manually (after <code>initialize</code>)</td></tr><tr><td><a href="#close_file"><code>close_file</code></a></td><td>Close the file</td></tr><tr><td><a href="#destroy-file"><code>destroy</code></a></td><td>Reset to default state</td></tr><tr><td><a href="#statistics-file"><code>statistics</code></a></td><td>Return a formatted string with file statistics</td></tr></tbody></table><hr><h3 id="initialize" tabindex="-1"><code>initialize</code> <a class="header-anchor" href="#initialize" aria-label="Permalink to &quot;\`initialize\` {#initialize}&quot;">​</a></h3><p>Set up the file handler before loading or saving.</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">use</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fossil</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">file_stl_object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file_stl</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file_stl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">initialize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">file_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cube.stl&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> is_ascii</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.true.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Argument</th><th>Intent</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>file_name</code></td><td><code>in</code>, optional</td><td><code>character(*)</code></td><td>File path</td></tr><tr><td><code>is_ascii</code></td><td><code>in</code>, optional</td><td><code>logical</code></td><td>Format flag (default <code>.true.</code>)</td></tr><tr><td><code>skip_destroy</code></td><td><code>in</code>, optional</td><td><code>logical</code></td><td>Skip reset before init (default <code>.false.</code>)</td></tr></tbody></table><hr><h3 id="load_from_file" tabindex="-1"><code>load_from_file</code> <a class="header-anchor" href="#load_from_file" aria-label="Permalink to &quot;\`load_from_file\` {#load_from_file}&quot;">​</a></h3><p>Load STL facets from a file directly into <code>surface%facet</code>. The surface must call <code>analize</code> afterwards to build connectivity and the AABB tree.</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">use</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fossil</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">file_stl_object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)    </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file_stl</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">surface_stl_object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">! Auto-detect format</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file_stl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">load_from_file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">facet</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">facet,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> file_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;part.stl&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> guess_format</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.true.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">! With on-the-fly clipping</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file_stl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">load_from_file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">facet</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">facet,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> file_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;part.stl&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">                             guess_format</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.true.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> clip_min</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bmin,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> clip_max</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bmax)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">analize</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Argument</th><th>Intent</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>facet</code></td><td><code>out</code></td><td><code>type(facet_object), allocatable(:)</code></td><td>Receives the loaded facets</td></tr><tr><td><code>file_name</code></td><td><code>in</code>, optional</td><td><code>character(*)</code></td><td>File path</td></tr><tr><td><code>is_ascii</code></td><td><code>in</code>, optional</td><td><code>logical</code></td><td>Format flag</td></tr><tr><td><code>guess_format</code></td><td><code>in</code>, optional</td><td><code>logical</code></td><td>Auto-detect ASCII vs binary</td></tr><tr><td><code>clip_min</code></td><td><code>in</code>, optional</td><td><code>type(vector_R8P)</code></td><td>Discard facets below this bounding corner</td></tr><tr><td><code>clip_max</code></td><td><code>in</code>, optional</td><td><code>type(vector_R8P)</code></td><td>Discard facets above this bounding corner</td></tr></tbody></table><hr><h3 id="save_into_file" tabindex="-1"><code>save_into_file</code> <a class="header-anchor" href="#save_into_file" aria-label="Permalink to &quot;\`save_into_file\` {#save_into_file}&quot;">​</a></h3><p>Write facets to an STL file.</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file_stl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">save_into_file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">facet</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">facet,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> file_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;output.stl&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Argument</th><th>Intent</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>facet</code></td><td><code>in</code></td><td><code>type(facet_object), allocatable(:)</code></td><td>Facets to write</td></tr><tr><td><code>file_name</code></td><td><code>in</code>, optional</td><td><code>character(*)</code></td><td>Output file path</td></tr><tr><td><code>is_ascii</code></td><td><code>in</code>, optional</td><td><code>logical</code></td><td>Format flag (default: binary)</td></tr></tbody></table><hr><h3 id="statistics-file" tabindex="-1"><code>statistics</code> (file) <a class="header-anchor" href="#statistics-file" aria-label="Permalink to &quot;\`statistics\` (file) {#statistics-file}&quot;">​</a></h3><p>Returns a multi-line formatted string describing the file (name, format, bounding extents).</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">print</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;(A)&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, file_stl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">statistics()</span></span></code></pre></div><hr><h2 id="surface-stl-object" tabindex="-1"><code>surface_stl_object</code> <a class="header-anchor" href="#surface-stl-object" aria-label="Permalink to &quot;\`surface_stl_object\`&quot;">​</a></h2><p>Holds the triangulated surface geometry and provides all analysis and manipulation methods.</p><h3 id="public-members-1" tabindex="-1">Public members <a class="header-anchor" href="#public-members-1" aria-label="Permalink to &quot;Public members&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Member</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>facets_number</code></td><td><code>integer(I4P)</code></td><td>Number of triangular facets</td></tr><tr><td><code>facet</code></td><td><code>type(facet_object), allocatable(:)</code></td><td>Array of facets</td></tr><tr><td><code>bmin</code>, <code>bmax</code></td><td><code>type(vector_R8P)</code></td><td>Axis-aligned bounding box corners</td></tr><tr><td><code>volume</code></td><td><code>real(R8P)</code></td><td>Enclosed volume (negative if normals point inward)</td></tr><tr><td><code>centroid</code></td><td><code>type(vector_R8P)</code></td><td>Surface centroid</td></tr><tr><td><code>aabb</code></td><td><code>type(aabb_tree_object)</code></td><td>AABB octree for acceleration</td></tr><tr><td><code>facet_1_de</code></td><td><code>type(list_id_object)</code></td><td>IDs of facets with one disconnected edge</td></tr><tr><td><code>facet_2_de</code></td><td><code>type(list_id_object)</code></td><td>IDs of facets with two disconnected edges</td></tr><tr><td><code>facet_3_de</code></td><td><code>type(list_id_object)</code></td><td>IDs of facets with three disconnected edges</td></tr></tbody></table><h3 id="public-methods-1" tabindex="-1">Public methods <a class="header-anchor" href="#public-methods-1" aria-label="Permalink to &quot;Public methods&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><a href="#analize"><code>analize</code></a></td><td>Compute bounding box, connectivity, volume, centroid, and AABB tree</td></tr><tr><td><a href="#translate"><code>translate</code></a></td><td>Translate facets</td></tr><tr><td><a href="#rotate"><code>rotate</code></a></td><td>Rotate facets</td></tr><tr><td><a href="#mirror"><code>mirror</code></a></td><td>Mirror facets</td></tr><tr><td><a href="#resize"><code>resize</code></a></td><td>Scale facets</td></tr><tr><td><a href="#clip"><code>clip</code></a></td><td>Clip surface to an axis-aligned bounding box</td></tr><tr><td><a href="#merge_solids"><code>merge_solids</code></a></td><td>Merge another surface into this one</td></tr><tr><td><a href="#sanitize_normals"><code>sanitize_normals</code></a></td><td>Make all normals consistent</td></tr><tr><td><a href="#reverse_normals"><code>reverse_normals</code></a></td><td>Flip all normals</td></tr><tr><td><a href="#connect_nearby_vertices"><code>connect_nearby_vertices</code></a></td><td>Repair disconnected edges</td></tr><tr><td><a href="#distance"><code>distance</code></a></td><td>Minimum distance from a point to the surface</td></tr><tr><td><a href="#is_point_inside"><code>is_point_inside</code></a></td><td>Point-in-polyhedron test</td></tr><tr><td><a href="#compute_mesh_distance"><code>compute_mesh_distance</code></a></td><td>Distance field over a structured mesh</td></tr><tr><td><a href="#compute_volume"><code>compute_volume</code></a></td><td>Recompute volume from current facets</td></tr><tr><td><a href="#compute_centroid"><code>compute_centroid</code></a></td><td>Recompute centroid from current facets</td></tr><tr><td><a href="#build_connectivity"><code>build_connectivity</code></a></td><td>Rebuild facet connectivity only</td></tr><tr><td><a href="#statistics-surface"><code>statistics</code></a></td><td>Return a formatted string with surface statistics</td></tr><tr><td><a href="#destroy-surface"><code>destroy</code></a></td><td>Reset to default state</td></tr><tr><td><a href="#initialize-surface"><code>initialize</code></a></td><td>Initialize (optionally skip destroy)</td></tr></tbody></table><hr><h3 id="analize" tabindex="-1"><code>analize</code> <a class="header-anchor" href="#analize" aria-label="Permalink to &quot;\`analize\` {#analize}&quot;">​</a></h3><p>Full surface analysis: bounding box, volume, centroid, facet connectivity, disconnected-edge detection, and AABB octree. Call this after every load or geometry modification.</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">analize</span></span></code></pre></div><hr><h3 id="translate" tabindex="-1"><code>translate</code> <a class="header-anchor" href="#translate" aria-label="Permalink to &quot;\`translate\` {#translate}&quot;">​</a></h3><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">! By 3D vector</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">translate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">delta</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">delta_vector)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">! By scalar components (any subset)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">translate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0_R8P</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">translate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0_R8P</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0_R8P</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> z</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5_R8P</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><hr><h3 id="rotate" tabindex="-1"><code>rotate</code> <a class="header-anchor" href="#rotate" aria-label="Permalink to &quot;\`rotate\` {#rotate}&quot;">​</a></h3><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">! By axis + angle (radians)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rotate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">axis</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">axis_vector,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> angle</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">angle_radians)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">! By rotation matrix</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rotate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">matrix</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rotation_matrix)</span></span></code></pre></div><hr><h3 id="mirror" tabindex="-1"><code>mirror</code> <a class="header-anchor" href="#mirror" aria-label="Permalink to &quot;\`mirror\` {#mirror}&quot;">​</a></h3><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">! By plane normal</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mirror</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">normal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">normal_vector)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">! By mirror matrix</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mirror</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">matrix</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mirror_matrix)</span></span></code></pre></div><hr><h3 id="resize" tabindex="-1"><code>resize</code> <a class="header-anchor" href="#resize" aria-label="Permalink to &quot;\`resize\` {#resize}&quot;">​</a></h3><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">! Vectorial scale factor</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">factor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">factor_vector)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">! Per-axis scalars</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5_R8P</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> z</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.2_R8P</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">! Scale about centroid</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">factor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">factor_vector,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> respect_centroid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.true.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><hr><h3 id="clip" tabindex="-1"><code>clip</code> <a class="header-anchor" href="#clip" aria-label="Permalink to &quot;\`clip\` {#clip}&quot;">​</a></h3><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">surface_stl_object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> remainder</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clip</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">bmin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bmin_vector,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> bmax</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bmax_vector,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> remainder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">remainder)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">analize</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> remainder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">analize</span></span></code></pre></div><p>The <code>remainder</code> argument is optional — omit it when the removed facets are not needed.</p><hr><h3 id="merge_solids" tabindex="-1"><code>merge_solids</code> <a class="header-anchor" href="#merge_solids" aria-label="Permalink to &quot;\`merge_solids\` {#merge_solids}&quot;">​</a></h3><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface_1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">merge_solids</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">other</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">surface_2)</span></span></code></pre></div><p>Appends <code>surface_2</code> facets into <code>surface_1</code>. Call <code>analize</code> afterwards to rebuild connectivity.</p><hr><h3 id="sanitize_normals" tabindex="-1"><code>sanitize_normals</code> <a class="header-anchor" href="#sanitize_normals" aria-label="Permalink to &quot;\`sanitize_normals\` {#sanitize_normals}&quot;">​</a></h3><p>Make all normals consistent (propagates orientation from each facet to its neighbors via connectivity).</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sanitize_normals</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">compute_volume   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">! re-check volume after sanitization</span></span></code></pre></div><hr><h3 id="reverse_normals" tabindex="-1"><code>reverse_normals</code> <a class="header-anchor" href="#reverse_normals" aria-label="Permalink to &quot;\`reverse_normals\` {#reverse_normals}&quot;">​</a></h3><p>Flip every facet normal. Useful after <code>mirror</code> or when normals point inward and need to be flipped uniformly.</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">reverse_normals</span></span></code></pre></div><hr><h3 id="connect_nearby_vertices" tabindex="-1"><code>connect_nearby_vertices</code> <a class="header-anchor" href="#connect_nearby_vertices" aria-label="Permalink to &quot;\`connect_nearby_vertices\` {#connect_nearby_vertices}&quot;">​</a></h3><p>Snap vertices that are geometrically close to repair disconnected edges.</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">connect_nearby_vertices</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">analize</span></span></code></pre></div><hr><h3 id="distance" tabindex="-1"><code>distance</code> <a class="header-anchor" href="#distance" aria-label="Permalink to &quot;\`distance\` {#distance}&quot;">​</a></h3><p>Returns the minimum distance (Euclidean, unsigned) from a query point to the surface. Uses the AABB tree for acceleration.</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">use</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vecfor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">only:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ex_R8P, ey_R8P, ez_R8P</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">use</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> penf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">only:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> R8P</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">real</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(R8P) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">distance(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">point</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0_R8P</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ex_R8P </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5_R8P</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ey_R8P </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0_R8P</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ez_R8P)</span></span></code></pre></div><hr><h3 id="is_point_inside" tabindex="-1"><code>is_point_inside</code> <a class="header-anchor" href="#is_point_inside" aria-label="Permalink to &quot;\`is_point_inside\` {#is_point_inside}&quot;">​</a></h3><p>Returns <code>.true.</code> if the point is inside the closed surface. Internally calls <code>is_point_inside_polyhedron_sa</code> (solid angle method).</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">logical</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> inside</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">inside </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">is_point_inside(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">point</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">query_point)</span></span></code></pre></div><hr><h3 id="compute_mesh_distance" tabindex="-1"><code>compute_mesh_distance</code> <a class="header-anchor" href="#compute_mesh_distance" aria-label="Permalink to &quot;\`compute_mesh_distance\` {#compute_mesh_distance}&quot;">​</a></h3><p>Compute the signed distance from every grid node of a structured block to the surface.</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">compute_mesh_distance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">block</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">my_block)</span></span></code></pre></div><hr><h3 id="statistics-surface" tabindex="-1"><code>statistics</code> (surface) <a class="header-anchor" href="#statistics-surface" aria-label="Permalink to &quot;\`statistics\` (surface) {#statistics-surface}&quot;">​</a></h3><p>Returns a multi-line string with: bounding extents, volume, centroid, facet count, disconnected-edge counts, and AABB refinement levels.</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">print</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;(A)&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, surface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">statistics()</span></span></code></pre></div><hr><h2 id="facet-object" tabindex="-1"><code>facet_object</code> <a class="header-anchor" href="#facet-object" aria-label="Permalink to &quot;\`facet_object\`&quot;">​</a></h2><p>Represents a single triangular facet. Most user code accesses facets through <code>surface%facet(:)</code> rather than directly.</p><h3 id="public-members-2" tabindex="-1">Public members <a class="header-anchor" href="#public-members-2" aria-label="Permalink to &quot;Public members&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Member</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>normal</code></td><td><code>type(vector_R8P)</code></td><td>Outward unit normal</td></tr><tr><td><code>vertex(3)</code></td><td><code>type(vector_R8P)</code></td><td>Three vertices</td></tr><tr><td><code>centroid</code></td><td><code>type(vector_R8P)</code></td><td>Facet centroid</td></tr><tr><td><code>id</code></td><td><code>integer(I4P)</code></td><td>Global facet ID</td></tr><tr><td><code>fcon_edge_12</code></td><td><code>integer(I4P)</code></td><td>ID of connected facet along edge 1-2 (0 = disconnected)</td></tr><tr><td><code>fcon_edge_23</code></td><td><code>integer(I4P)</code></td><td>ID of connected facet along edge 2-3</td></tr><tr><td><code>fcon_edge_31</code></td><td><code>integer(I4P)</code></td><td>ID of connected facet along edge 3-1</td></tr><tr><td><code>bb(2)</code></td><td><code>type(vector_R8P)</code></td><td>Facet AABB: <code>bb(1)</code> = min corner, <code>bb(2)</code> = max corner</td></tr></tbody></table><h3 id="selected-methods" tabindex="-1">Selected methods <a class="header-anchor" href="#selected-methods" aria-label="Permalink to &quot;Selected methods&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>compute_normal</code></td><td>Compute normal from vertices</td></tr><tr><td><code>compute_metrix</code></td><td>Compute plane equation coefficients used for distance queries</td></tr><tr><td><code>compute_distance</code></td><td>Unsigned squared distance from a point to this facet</td></tr><tr><td><code>solid_angle</code></td><td>Projected solid angle subtended by this facet from a given point</td></tr><tr><td><code>do_ray_intersect</code></td><td>Test whether a ray intersects this facet</td></tr><tr><td><code>translate</code>, <code>rotate</code>, <code>mirror</code>, <code>resize</code></td><td>Per-facet geometry transforms</td></tr><tr><td><code>load_from_file_ascii</code> / <code>load_from_file_binary</code></td><td>Low-level facet I/O</td></tr><tr><td><code>save_into_file_ascii</code> / <code>save_into_file_binary</code></td><td>Low-level facet I/O</td></tr></tbody></table>`,96)])])}const g=i(n,[["render",d]]);export{c as __pageData,g as default};
