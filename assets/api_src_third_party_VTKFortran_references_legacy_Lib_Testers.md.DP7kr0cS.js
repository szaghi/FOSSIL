import{_ as o,C as d,o as a,c as h,j as p,a as e,b as n,w as s,E as r,a3 as _,a2 as l}from"./chunks/framework.BS-IksUQ.js";const b=JSON.parse('{"title":"Lib_Testers","description":"","frontmatter":{"title":"Lib_Testers"},"headers":[],"relativePath":"api/src/third_party/VTKFortran/references/legacy/Lib_Testers.md","filePath":"api/src/third_party/VTKFortran/references/legacy/Lib_Testers.md"}'),T={name:"api/src/third_party/VTKFortran/references/legacy/Lib_Testers.md"};function u(g,t,m,E,c,D){const i=d("Mermaid");return a(),h("div",null,[t[10]||(t[10]=p("h1",{id:"lib-testers",tabindex:"-1"},[e("Lib_Testers "),p("a",{class:"header-anchor",href:"#lib-testers","aria-label":'Permalink to "Lib_Testers"'},"​")],-1)),t[11]||(t[11]=p("blockquote",null,[p("p",null,"Module library of procedures for testing Lib_VTK_IO and for providing practical examples.")],-1)),t[12]||(t[12]=p("p",null,[p("strong",null,"Source"),e(": "),p("code",null,"src/third_party/VTKFortran/references/legacy/Test_Driver.f90")],-1)),t[13]||(t[13]=p("p",null,[p("strong",null,"Dependencies")],-1)),(a(),n(_,null,{default:s(()=>[r(i,{id:"mermaid-14",class:"mermaid",graph:"graph%20LR%0A%20%20Lib_Testers%5B%22Lib_Testers%22%5D%20--%3E%20Lib_VTK_IO%5B%22Lib_VTK_IO%22%5D%0A%20%20Lib_Testers%5B%22Lib_Testers%22%5D%20--%3E%20iso_fortran_env%5B%22iso_fortran_env%22%5D%0A%20%20Lib_Testers%5B%22Lib_Testers%22%5D%20--%3E%20penf%5B%22penf%22%5D%0A"})]),fallback:s(()=>[...t[0]||(t[0]=[e(" Loading... ",-1)])]),_:1})),t[14]||(t[14]=l('<h2 id="contents" tabindex="-1">Contents <a class="header-anchor" href="#contents" aria-label="Permalink to &quot;Contents&quot;">​</a></h2><ul><li><a href="#test-stress">test_stress</a></li><li><a href="#test-unst">test_unst</a></li><li><a href="#test-strg">test_strg</a></li><li><a href="#test-rect">test_rect</a></li><li><a href="#test-punst">test_punst</a></li><li><a href="#test-pstrg">test_pstrg</a></li><li><a href="#test-vtm">test_vtm</a></li><li><a href="#test-openmp">test_openmp</a></li><li><a href="#test-mpi">test_mpi</a></li></ul><h2 id="subroutines" tabindex="-1">Subroutines <a class="header-anchor" href="#subroutines" aria-label="Permalink to &quot;Subroutines&quot;">​</a></h2><h3 id="test-stress" tabindex="-1">test_stress <a class="header-anchor" href="#test-stress" aria-label="Permalink to &quot;test_stress&quot;">​</a></h3><p>Procedure for testing all functions.</p><p>R4P and R8P mesh data, 1D and 3D arrays inputs, standard (X,Y,Z,... separated arrays) and packed API (X,Y,Z,... packed into a single array). All available formats are used. The StructuredGrid topology is used. @note This subroutine is designed not as an example rather than a comprehensive stress-tester for functions of any kind/rank.</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">subroutine</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> test_stress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p><strong>Call graph</strong></p>',8)),(a(),n(_,null,{default:s(()=>[r(i,{id:"mermaid-81",class:"mermaid",graph:"flowchart%20TD%0A%20%20test_stress%5B%22test_stress%22%5D%20--%3E%20initialize%5B%22initialize%22%5D%0A%20%20test_stress%5B%22test_stress%22%5D%20--%3E%20save_strg%5B%22save_strg%22%5D%0A%20%20style%20test_stress%20fill%3A%233e63dd%2Cstroke%3A%2399b%2Cstroke-width%3A2px%0A"})]),fallback:s(()=>[...t[1]||(t[1]=[e(" Loading... ",-1)])]),_:1})),t[15]||(t[15]=l('<h3 id="test-unst" tabindex="-1">test_unst <a class="header-anchor" href="#test-unst" aria-label="Permalink to &quot;test_unst&quot;">​</a></h3><p>Procedure for testing UnstructuredGrid functions.</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">subroutine</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> test_unst</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p><strong>Call graph</strong></p>',4)),(a(),n(_,null,{default:s(()=>[r(i,{id:"mermaid-92",class:"mermaid",graph:"flowchart%20TD%0A%20%20test_unst%5B%22test_unst%22%5D%20--%3E%20VTK_CON_XML%5B%22VTK_CON_XML%22%5D%0A%20%20test_unst%5B%22test_unst%22%5D%20--%3E%20VTK_DAT_XML%5B%22VTK_DAT_XML%22%5D%0A%20%20test_unst%5B%22test_unst%22%5D%20--%3E%20VTK_END_XML_WRITE%5B%22VTK_END_XML_WRITE%22%5D%0A%20%20test_unst%5B%22test_unst%22%5D%20--%3E%20VTK_GEO_XML_WRITE%5B%22VTK_GEO_XML_WRITE%22%5D%0A%20%20test_unst%5B%22test_unst%22%5D%20--%3E%20VTK_INI_XML_WRITE%5B%22VTK_INI_XML_WRITE%22%5D%0A%20%20test_unst%5B%22test_unst%22%5D%20--%3E%20VTK_VAR_XML_WRITE%5B%22VTK_VAR_XML_WRITE%22%5D%0A%20%20style%20test_unst%20fill%3A%233e63dd%2Cstroke%3A%2399b%2Cstroke-width%3A2px%0A"})]),fallback:s(()=>[...t[2]||(t[2]=[e(" Loading... ",-1)])]),_:1})),t[16]||(t[16]=l('<h3 id="test-strg" tabindex="-1">test_strg <a class="header-anchor" href="#test-strg" aria-label="Permalink to &quot;test_strg&quot;">​</a></h3><p>Procedure for testing StructuredGrid functions.</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">subroutine</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> test_strg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p><strong>Call graph</strong></p>',4)),(a(),n(_,null,{default:s(()=>[r(i,{id:"mermaid-103",class:"mermaid",graph:"flowchart%20TD%0A%20%20test_strg%5B%22test_strg%22%5D%20--%3E%20VTK_DAT_XML%5B%22VTK_DAT_XML%22%5D%0A%20%20test_strg%5B%22test_strg%22%5D%20--%3E%20VTK_END_XML_WRITE%5B%22VTK_END_XML_WRITE%22%5D%0A%20%20test_strg%5B%22test_strg%22%5D%20--%3E%20VTK_GEO_XML_WRITE%5B%22VTK_GEO_XML_WRITE%22%5D%0A%20%20test_strg%5B%22test_strg%22%5D%20--%3E%20VTK_INI_XML_WRITE%5B%22VTK_INI_XML_WRITE%22%5D%0A%20%20test_strg%5B%22test_strg%22%5D%20--%3E%20VTK_VAR_XML_WRITE%5B%22VTK_VAR_XML_WRITE%22%5D%0A%20%20style%20test_strg%20fill%3A%233e63dd%2Cstroke%3A%2399b%2Cstroke-width%3A2px%0A"})]),fallback:s(()=>[...t[3]||(t[3]=[e(" Loading... ",-1)])]),_:1})),t[17]||(t[17]=l('<h3 id="test-rect" tabindex="-1">test_rect <a class="header-anchor" href="#test-rect" aria-label="Permalink to &quot;test_rect&quot;">​</a></h3><p>Procedure for testing RectilinearGrid functions.</p><p>@note This subroutine also shows the usage of FieldData functions that are useful for saving global auxiliary data, e.g. time, time step, ecc.</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">subroutine</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> test_rect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p><strong>Call graph</strong></p>',5)),(a(),n(_,null,{default:s(()=>[r(i,{id:"mermaid-117",class:"mermaid",graph:"flowchart%20TD%0A%20%20test_rect%5B%22test_rect%22%5D%20--%3E%20VTK_DAT_XML%5B%22VTK_DAT_XML%22%5D%0A%20%20test_rect%5B%22test_rect%22%5D%20--%3E%20VTK_END_XML_WRITE%5B%22VTK_END_XML_WRITE%22%5D%0A%20%20test_rect%5B%22test_rect%22%5D%20--%3E%20VTK_FLD_XML%5B%22VTK_FLD_XML%22%5D%0A%20%20test_rect%5B%22test_rect%22%5D%20--%3E%20VTK_GEO_XML_WRITE%5B%22VTK_GEO_XML_WRITE%22%5D%0A%20%20test_rect%5B%22test_rect%22%5D%20--%3E%20VTK_INI_XML_WRITE%5B%22VTK_INI_XML_WRITE%22%5D%0A%20%20test_rect%5B%22test_rect%22%5D%20--%3E%20VTK_VAR_XML_WRITE%5B%22VTK_VAR_XML_WRITE%22%5D%0A%20%20style%20test_rect%20fill%3A%233e63dd%2Cstroke%3A%2399b%2Cstroke-width%3A2px%0A"})]),fallback:s(()=>[...t[4]||(t[4]=[e(" Loading... ",-1)])]),_:1})),t[18]||(t[18]=l('<h3 id="test-punst" tabindex="-1">test_punst <a class="header-anchor" href="#test-punst" aria-label="Permalink to &quot;test_punst&quot;">​</a></h3><p>Procedure for testing parallel (partitioned) PStructuredGrid functions.</p><p>@note Note that the two parts are completely independet.</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">subroutine</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> test_punst</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p><strong>Call graph</strong></p>',5)),(a(),n(_,null,{default:s(()=>[r(i,{id:"mermaid-131",class:"mermaid",graph:"flowchart%20TD%0A%20%20test_punst%5B%22test_punst%22%5D%20--%3E%20PVTK_DAT_XML%5B%22PVTK_DAT_XML%22%5D%0A%20%20test_punst%5B%22test_punst%22%5D%20--%3E%20PVTK_END_XML%5B%22PVTK_END_XML%22%5D%0A%20%20test_punst%5B%22test_punst%22%5D%20--%3E%20PVTK_GEO_XML%5B%22PVTK_GEO_XML%22%5D%0A%20%20test_punst%5B%22test_punst%22%5D%20--%3E%20PVTK_INI_XML%5B%22PVTK_INI_XML%22%5D%0A%20%20test_punst%5B%22test_punst%22%5D%20--%3E%20PVTK_VAR_XML%5B%22PVTK_VAR_XML%22%5D%0A%20%20test_punst%5B%22test_punst%22%5D%20--%3E%20VTK_CON_XML%5B%22VTK_CON_XML%22%5D%0A%20%20test_punst%5B%22test_punst%22%5D%20--%3E%20VTK_DAT_XML%5B%22VTK_DAT_XML%22%5D%0A%20%20test_punst%5B%22test_punst%22%5D%20--%3E%20VTK_END_XML_WRITE%5B%22VTK_END_XML_WRITE%22%5D%0A%20%20test_punst%5B%22test_punst%22%5D%20--%3E%20VTK_GEO_XML_WRITE%5B%22VTK_GEO_XML_WRITE%22%5D%0A%20%20test_punst%5B%22test_punst%22%5D%20--%3E%20VTK_INI_XML_WRITE%5B%22VTK_INI_XML_WRITE%22%5D%0A%20%20test_punst%5B%22test_punst%22%5D%20--%3E%20VTK_VAR_XML_WRITE%5B%22VTK_VAR_XML_WRITE%22%5D%0A%20%20style%20test_punst%20fill%3A%233e63dd%2Cstroke%3A%2399b%2Cstroke-width%3A2px%0A"})]),fallback:s(()=>[...t[5]||(t[5]=[e(" Loading... ",-1)])]),_:1})),t[19]||(t[19]=l(`<h3 id="test-pstrg" tabindex="-1">test_pstrg <a class="header-anchor" href="#test-pstrg" aria-label="Permalink to &quot;test_pstrg&quot;">​</a></h3><p>Procedure for testing parallel (partitioned) PStructuredGrid functions.</p><p>The mesh is a simple prism partitioned into two pieces along x direction at ordinate i=nx2_p(1).</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span> y ^</span></span>
<span class="line"><span>   |               ny2 +-----------------+--------------+</span></span>
<span class="line"><span>   |                   |                 |              |</span></span>
<span class="line"><span>   |                   |                 |              |</span></span>
<span class="line"><span>   |                   |                 |              |</span></span>
<span class="line"><span>   |                   |                 |              |</span></span>
<span class="line"><span>   o--------&gt;      ny1 +-----------------+--------------+</span></span>
<span class="line"><span>            x         nx1               i=nx2_p(1)     nx2</span></span></code></pre></div><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">subroutine</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> test_pstrg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p><strong>Call graph</strong></p>`,6)),(a(),n(_,null,{default:s(()=>[r(i,{id:"mermaid-146",class:"mermaid",graph:"flowchart%20TD%0A%20%20test_pstrg%5B%22test_pstrg%22%5D%20--%3E%20PVTK_DAT_XML%5B%22PVTK_DAT_XML%22%5D%0A%20%20test_pstrg%5B%22test_pstrg%22%5D%20--%3E%20PVTK_END_XML%5B%22PVTK_END_XML%22%5D%0A%20%20test_pstrg%5B%22test_pstrg%22%5D%20--%3E%20PVTK_GEO_XML%5B%22PVTK_GEO_XML%22%5D%0A%20%20test_pstrg%5B%22test_pstrg%22%5D%20--%3E%20PVTK_INI_XML%5B%22PVTK_INI_XML%22%5D%0A%20%20test_pstrg%5B%22test_pstrg%22%5D%20--%3E%20PVTK_VAR_XML%5B%22PVTK_VAR_XML%22%5D%0A%20%20test_pstrg%5B%22test_pstrg%22%5D%20--%3E%20VTK_DAT_XML%5B%22VTK_DAT_XML%22%5D%0A%20%20test_pstrg%5B%22test_pstrg%22%5D%20--%3E%20VTK_END_XML_WRITE%5B%22VTK_END_XML_WRITE%22%5D%0A%20%20test_pstrg%5B%22test_pstrg%22%5D%20--%3E%20VTK_GEO_XML_WRITE%5B%22VTK_GEO_XML_WRITE%22%5D%0A%20%20test_pstrg%5B%22test_pstrg%22%5D%20--%3E%20VTK_INI_XML_WRITE%5B%22VTK_INI_XML_WRITE%22%5D%0A%20%20test_pstrg%5B%22test_pstrg%22%5D%20--%3E%20VTK_VAR_XML_WRITE%5B%22VTK_VAR_XML_WRITE%22%5D%0A%20%20test_pstrg%5B%22test_pstrg%22%5D%20--%3E%20str%5B%22str%22%5D%0A%20%20style%20test_pstrg%20fill%3A%233e63dd%2Cstroke%3A%2399b%2Cstroke-width%3A2px%0A"})]),fallback:s(()=>[...t[6]||(t[6]=[e(" Loading... ",-1)])]),_:1})),t[20]||(t[20]=l('<h3 id="test-vtm" tabindex="-1">test_vtm <a class="header-anchor" href="#test-vtm" aria-label="Permalink to &quot;test_vtm&quot;">​</a></h3><p>Procedure for testing multi-blocks VTM functions.</p><p>There are 4 subset of data organized into 2 blocks. All the subsets are simple StructuredGrid prisms shifted along x direction.</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">subroutine</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> test_vtm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p><strong>Call graph</strong></p>',5)),(a(),n(_,null,{default:s(()=>[r(i,{id:"mermaid-160",class:"mermaid",graph:"flowchart%20TD%0A%20%20test_vtm%5B%22test_vtm%22%5D%20--%3E%20VTK_DAT_XML%5B%22VTK_DAT_XML%22%5D%0A%20%20test_vtm%5B%22test_vtm%22%5D%20--%3E%20VTK_END_XML_WRITE%5B%22VTK_END_XML_WRITE%22%5D%0A%20%20test_vtm%5B%22test_vtm%22%5D%20--%3E%20VTK_GEO_XML_WRITE%5B%22VTK_GEO_XML_WRITE%22%5D%0A%20%20test_vtm%5B%22test_vtm%22%5D%20--%3E%20VTK_INI_XML_WRITE%5B%22VTK_INI_XML_WRITE%22%5D%0A%20%20test_vtm%5B%22test_vtm%22%5D%20--%3E%20VTK_VAR_XML_WRITE%5B%22VTK_VAR_XML_WRITE%22%5D%0A%20%20test_vtm%5B%22test_vtm%22%5D%20--%3E%20VTM_BLK_XML%5B%22VTM_BLK_XML%22%5D%0A%20%20test_vtm%5B%22test_vtm%22%5D%20--%3E%20VTM_END_XML%5B%22VTM_END_XML%22%5D%0A%20%20test_vtm%5B%22test_vtm%22%5D%20--%3E%20VTM_INI_XML%5B%22VTM_INI_XML%22%5D%0A%20%20test_vtm%5B%22test_vtm%22%5D%20--%3E%20VTM_WRF_XML%5B%22VTM_WRF_XML%22%5D%0A%20%20test_vtm%5B%22test_vtm%22%5D%20--%3E%20str%5B%22str%22%5D%0A%20%20style%20test_vtm%20fill%3A%233e63dd%2Cstroke%3A%2399b%2Cstroke-width%3A2px%0A"})]),fallback:s(()=>[...t[7]||(t[7]=[e(" Loading... ",-1)])]),_:1})),t[21]||(t[21]=l(`<h3 id="test-openmp" tabindex="-1">test_openmp <a class="header-anchor" href="#test-openmp" aria-label="Permalink to &quot;test_openmp&quot;">​</a></h3><p>Procedure for testing the libray in an OpenMP parallel framework.</p><p>It is used for testing thread-safe capability and the library speedup into OpenMP parallel framework. The output is a parallel (partitioned) PStructuredGrid file. @note The whole grid is composed of blocks of 32x32x32 structured mesh. The total number of blocks/files, Nf_tot, is passed as argument. The whole grid is built up composing the blocks along the X axis with a regular shift as following:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span> y ^</span></span>
<span class="line"><span>   |               ny2 +------------+------------+------------+------///////////-----+</span></span>
<span class="line"><span>   |                   |            |            |            |                      |</span></span>
<span class="line"><span>   |                   |            |            |            |                      |</span></span>
<span class="line"><span>   |                   |            |            |            |                      |</span></span>
<span class="line"><span>   |                   |            |            |            |                      |</span></span>
<span class="line"><span>   o--------&gt;      ny1 +------------+------------+------------+------///////////-----+</span></span>
<span class="line"><span>            x         nx1          nx2    2*(nx2-nx+1)  3*(nx2-nx+1)          Nf_tot*(nx2-nx+1)</span></span></code></pre></div><p>@note When the total number of blocks/files, Nf_tot, is not an integral of the number of threads used, Nths, the last thread saves its own files (Nf_tot/Nths) plus the remainder blocks/files (mod(Nf_tot,Nths)). As a consequence the last thread could has different elapsed time and it could degrade the speedup. Therefore the subroutine prints to stdout the maximum and minimum elapsed time among the threads as well the average elapsed time in order to facilitate the assessing of the parallel scalability.</p><p>@note It is important to note that the output files initialization and finalization must be done outside the parallel ambient.</p><p>@note The array containing the files indexes could be shared among threads, but the counter of this array (&#39;p&#39; in this example) must be private.</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">subroutine</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> test_openmp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Nf_tot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p><strong>Arguments</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Intent</th><th>Attributes</th><th>Description</th></tr></thead><tbody><tr><td><code>Nf_tot</code></td><td>integer(kind=<a href="/FOSSIL/api/src/third_party/PENF/src/lib/penf_global_parameters_variables.html">I4P</a>)</td><td>in</td><td></td><td>Total number of files saved.</td></tr></tbody></table><p><strong>Call graph</strong></p>`,11)),(a(),n(_,null,{default:s(()=>[r(i,{id:"mermaid-227",class:"mermaid",graph:"flowchart%20TD%0A%20%20test_openmp%5B%22test_openmp%22%5D%20--%3E%20PVTK_DAT_XML%5B%22PVTK_DAT_XML%22%5D%0A%20%20test_openmp%5B%22test_openmp%22%5D%20--%3E%20PVTK_END_XML%5B%22PVTK_END_XML%22%5D%0A%20%20test_openmp%5B%22test_openmp%22%5D%20--%3E%20PVTK_GEO_XML%5B%22PVTK_GEO_XML%22%5D%0A%20%20test_openmp%5B%22test_openmp%22%5D%20--%3E%20PVTK_INI_XML%5B%22PVTK_INI_XML%22%5D%0A%20%20test_openmp%5B%22test_openmp%22%5D%20--%3E%20PVTK_VAR_XML%5B%22PVTK_VAR_XML%22%5D%0A%20%20test_openmp%5B%22test_openmp%22%5D%20--%3E%20VTK_DAT_XML%5B%22VTK_DAT_XML%22%5D%0A%20%20test_openmp%5B%22test_openmp%22%5D%20--%3E%20VTK_END_XML_WRITE%5B%22VTK_END_XML_WRITE%22%5D%0A%20%20test_openmp%5B%22test_openmp%22%5D%20--%3E%20VTK_GEO_XML_WRITE%5B%22VTK_GEO_XML_WRITE%22%5D%0A%20%20test_openmp%5B%22test_openmp%22%5D%20--%3E%20VTK_INI_XML_WRITE%5B%22VTK_INI_XML_WRITE%22%5D%0A%20%20test_openmp%5B%22test_openmp%22%5D%20--%3E%20VTK_VAR_XML_WRITE%5B%22VTK_VAR_XML_WRITE%22%5D%0A%20%20test_openmp%5B%22test_openmp%22%5D%20--%3E%20str%5B%22str%22%5D%0A%20%20test_openmp%5B%22test_openmp%22%5D%20--%3E%20strz%5B%22strz%22%5D%0A%20%20style%20test_openmp%20fill%3A%233e63dd%2Cstroke%3A%2399b%2Cstroke-width%3A2px%0A"})]),fallback:s(()=>[...t[8]||(t[8]=[e(" Loading... ",-1)])]),_:1})),t[22]||(t[22]=l(`<h3 id="test-mpi" tabindex="-1">test_mpi <a class="header-anchor" href="#test-mpi" aria-label="Permalink to &quot;test_mpi&quot;">​</a></h3><p>Procedure for testing the library in an MPI parallel framework.</p><p>It is used for testing the process-safe capability and the library speedup into MPI parallel framework. The output is a parallel (partitioned) PStructuredGrid file. @note The whole grid is composed of blocks of 32x32x32 structured mesh. The total number of blocks/files, Nf_tot, is passed as argument. The whole grid is built up composing the blocks along the X axis with a regular shift as following:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span> y ^</span></span>
<span class="line"><span>   |               ny2 +------------+------------+------------+------///////////-----+</span></span>
<span class="line"><span>   |                   |            |            |            |                      |</span></span>
<span class="line"><span>   |                   |            |            |            |                      |</span></span>
<span class="line"><span>   |                   |            |            |            |                      |</span></span>
<span class="line"><span>   |                   |            |            |            |                      |</span></span>
<span class="line"><span>   o--------&gt;      ny1 +------------+------------+------------+------///////////-----+</span></span>
<span class="line"><span>            x         nx1          nx2    2*(nx2-nx+1)  3*(nx2-nx+1)          Nf_tot*(nx2-nx+1)</span></span></code></pre></div><p>@note When the total number of blocks/files, Nf_tot, is not an integral of the number of processes used, nproc, the last process saves its own files (Nf_tot/nproc) plus the remainder blocks/files (mod(Nf_tot,nproc)). As a consequence the last process could has different elapsed time and it could degrade the speedup. Therefore the subroutine prints to stdout the maximum and minimum elapsed time among the processes as well the average elapsed time in order to facilitate the assessing of the parallel scalability.</p><div class="language-fortran vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fortran</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">subroutine</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> test_mpi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Nf_tot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p><strong>Arguments</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Intent</th><th>Attributes</th><th>Description</th></tr></thead><tbody><tr><td><code>Nf_tot</code></td><td>integer(kind=<a href="/FOSSIL/api/src/third_party/PENF/src/lib/penf_global_parameters_variables.html">I4P</a>)</td><td>in</td><td></td><td>Total number of files saved.</td></tr></tbody></table><p><strong>Call graph</strong></p>`,9)),(a(),n(_,null,{default:s(()=>[r(i,{id:"mermaid-288",class:"mermaid",graph:"flowchart%20TD%0A%20%20test_mpi%5B%22test_mpi%22%5D%20--%3E%20PVTK_DAT_XML%5B%22PVTK_DAT_XML%22%5D%0A%20%20test_mpi%5B%22test_mpi%22%5D%20--%3E%20PVTK_END_XML%5B%22PVTK_END_XML%22%5D%0A%20%20test_mpi%5B%22test_mpi%22%5D%20--%3E%20PVTK_GEO_XML%5B%22PVTK_GEO_XML%22%5D%0A%20%20test_mpi%5B%22test_mpi%22%5D%20--%3E%20PVTK_INI_XML%5B%22PVTK_INI_XML%22%5D%0A%20%20test_mpi%5B%22test_mpi%22%5D%20--%3E%20PVTK_VAR_XML%5B%22PVTK_VAR_XML%22%5D%0A%20%20test_mpi%5B%22test_mpi%22%5D%20--%3E%20VTK_DAT_XML%5B%22VTK_DAT_XML%22%5D%0A%20%20test_mpi%5B%22test_mpi%22%5D%20--%3E%20VTK_END_XML_WRITE%5B%22VTK_END_XML_WRITE%22%5D%0A%20%20test_mpi%5B%22test_mpi%22%5D%20--%3E%20VTK_GEO_XML_WRITE%5B%22VTK_GEO_XML_WRITE%22%5D%0A%20%20test_mpi%5B%22test_mpi%22%5D%20--%3E%20VTK_INI_XML_WRITE%5B%22VTK_INI_XML_WRITE%22%5D%0A%20%20test_mpi%5B%22test_mpi%22%5D%20--%3E%20VTK_VAR_XML_WRITE%5B%22VTK_VAR_XML_WRITE%22%5D%0A%20%20test_mpi%5B%22test_mpi%22%5D%20--%3E%20str%5B%22str%22%5D%0A%20%20test_mpi%5B%22test_mpi%22%5D%20--%3E%20strz%5B%22strz%22%5D%0A%20%20style%20test_mpi%20fill%3A%233e63dd%2Cstroke%3A%2399b%2Cstroke-width%3A2px%0A"})]),fallback:s(()=>[...t[9]||(t[9]=[e(" Loading... ",-1)])]),_:1}))])}const k=o(T,[["render",u]]);export{b as __pageData,k as default};
